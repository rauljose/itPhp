styleSheetsHelper={exists:function(className){for(var iStyleSheet=0,lenStyleSheets=document.styleSheets.length;iStyleSheet<lenStyleSheets;++iStyleSheet)for(var classes=document.styleSheets[iStyleSheet].rules||document.styleSheets[iStyleSheet].cssRules,x=0;x<classes.length;x++)if(classes[x].selectorText===className)return!0;return!1},getStyleString:function(className){return styleSheetsHelper.simplyfy(styleSheetsHelper._get(className))},getStyleObject:function(className){return styleSheetsHelper.styleString2object(styleSheetsHelper._get(className))},
setStyle:function(className,style){"string"===typeof style&&0<=style.indexOf("{")&&0<=style.lastIndexOf("}")&&(style=style.substring(style.indexOf("{")+1,style.lastIndexOf("}")).trim());var rule=styleSheetsHelper._getLastRule(className);if(!1===rule)rule=document.styleSheets.length-1,document.styleSheets[rule].insertRule(className+" {"+("string"===typeof style?style:styleSheetsHelper.styleObject2String(style))+"}",document.styleSheets[rule].length);else{className="string"===typeof style?styleSheetsHelper.styleString2object(style):
style;for(var s in className)className.hasOwnProperty(s)&&(rule.style[s]=className[s])}},styleObject2String:function(obj){var str="",s;for(s in obj)obj.hasOwnProperty(s)&&(str+=s.trim()+":"+obj[s].toString().trim()+";");return str},styleString2object:function(str){var style={};str=str.split(";");for(var i=0,len=str.length;i<len;++i)if(0<str[i].length){var s=str[i].split(":");2===s.length&&(style[s[0].trim()]=s[1].trim())}return style},simplyfy:function(str){return styleSheetsHelper.styleObject2String(styleSheetsHelper.styleString2object(str))},
_get:function(className){for(var cssText="",iStyleSheet=0,lenStyleSheets=document.styleSheets.length;iStyleSheet<lenStyleSheets;++iStyleSheet)for(var classes=document.styleSheets[iStyleSheet].rules||document.styleSheets[iStyleSheet].cssRules,x=0;x<classes.length;x++)if(classes[x].selectorText===className){var s=classes[x].cssText||classes[x].style.cssText;cssText+=s.substring(s.indexOf("{")+1,s.lastIndexOf("}")).trim()}return cssText},_getLastRule:function(className){for(var iStyleSheet=document.styleSheets.length-
1;0<=iStyleSheet;--iStyleSheet)for(var classes=document.styleSheets[iStyleSheet].rules||document.styleSheets[iStyleSheet].cssRules,x=classes.length-1;0<=x;--x)if(classes[x].selectorText===className)return classes[x];return!1}};
